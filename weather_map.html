<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Weather Practice</title>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css' rel='stylesheet' />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <link href="css/weather_map.css" rel="stylesheet">
</head>
<body>
<div class="page-wrapper">
  <header class="container">
    <div class="row full-width">
      <div class="column">
    <div>Weather App</div>
    </div>
      <div class="column">
    <div class="city-log">Current city:</div>
      </div>
    </div>
  </header>
  <div class="container place-search">
    <div class="row full-width">
      <div class="column city-search">
  <div class="place col-3">Place</div>
  <input id="location-input" type="text" class="col-2">
  <button class="find-button"> &nbsp;find&nbsp; </button>
      </div>
    </div>
  </div>
  <main class="container">
    <div class="row">

    <div class="card" style="width: 18rem;">
      <div class="card-header">
        Featured
      </div>
      <ul class="list-group list-group-flush">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A third item</li>
      </ul>
    </div>
    <div class="card" style="width: 18rem;">
      <div class="card-header">
        Featured
      </div>
      <ul class="list-group list-group-flush">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A third item</li>
      </ul>
    </div>
    <div class="card" style="width: 18rem;">
      <div class="card-header">
        Featured
      </div>
      <ul class="list-group list-group-flush">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A third item</li>
      </ul>
    </div>
    <div class="card" style="width: 18rem;">
      <div class="card-header">
        Featured
      </div>
      <ul class="list-group list-group-flush">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A third item</li>
      </ul>
    </div>
    <div class="card" style="width: 18rem;">
      <div class="card-header">
        Featured
      </div>
      <ul class="list-group list-group-flush">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A third item</li>
      </ul>
    </div>
    </div>
    <div id='map'> </div>
  </main>
</div>
<script src="js/keys.js"></script>
<!--geocode-->
<script src="js/mapbox-geocoder-utils.js"></script>
<!-- Mapbox JS -->
<script src='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js'></script>
<!--Weather map-->
<script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
        crossorigin="anonymous"></script>
<!--bootstrap-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<script>
  "use strict";
  let lata =[];
  let long = [];

  function test(){
    geocode(`Miami`, keys.mapbox).then(function(result) {
      // console.log(result);
      map.setCenter(result);
      map.setZoom(9);
      new mapboxgl.Marker()
              .setLngLat(result)
              .addTo(map);

      lata.push() = result[0];
      long = result[1];

      console.log(lata, "this is inside function")
      // console.log(typeof result);

    });

  }


console.log(lata, 'this is the lata');
console.log(long, "this is the long");

let lata2 = -98.490415;
let long2 = 29.424122;
  mapboxgl.accessToken=keys.mapbox;
  let map=new mapboxgl.Map({
    container: `map`,
    style: `mapbox://styles/mapbox/streets-v9` ,
    zoom:5,
    center: [-98.4916, 29.4252]
  })
  let a = 25.774173;
  let x = -80.19362;
// function worldSearch(){
  $.get('https://api.openweathermap.org/data/2.5/forecast', {
    lat: a,
    lon: x,
    appid: keys.weather,
    units: 'imperial'
  }).done(function(data) {
    // can be used to get forecast conditions at current time in increments of 24 hours
    for (let i = 0; i < data.list.length; i += 8) {
      console.log(data);
      // console.log(lata2, 'this is a test')
      // console.log(data.list[i].main.temp);
    }
  }).fail(function(jqXhr, status, error) {
    console.log(jqXhr);
    console.log(status);
    console.log(error);
    // console.log( lata);
    // console.log(long);
  });
// }
// worldSearch()
</script>
</body>
</html>